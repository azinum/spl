// main.spl

// include "lib/common.spl"
// include "lib/hash.spl"

struct B (
  x : u64,
  y : u64
);

struct A (
  a : u64,
  b : B,
  c : u64
);

fn b_init(b : ptr<B>) -> none {
  store64 + b B.x 17;
  store64 + b B.y 19;
}

fn a_init(a : ptr<A>) -> none {
  store64 + a A.a 12;
  b_init(cast ptr<B> + a A.b);
  store64 + a A.c 13;
}

fn main -> none {
  let a : A = 0;
  a_init(at a);
  print :a:c;
  print :a:b:x;
}
